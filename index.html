<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cat√°logo Relojes Casio</title>

<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

<style>
body{
  font-family: Arial;
  margin:110px 20px 20px 20px;
}

/* ===== TOP BAR ===== */
#topbar{
  position:fixed;
  top:0; left:0; right:0;
  background:#222;
  color:#fff;
  padding:10px;
  display:flex;
  gap:10px;
  align-items:center;
  z-index:1000;
}
#topbar button{ padding:6px 12px; cursor:pointer; }
#resumen{ margin-left:auto; font-weight:bold; }

/* ===== GRID ===== */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:10px;
}
.card{
  border:1px solid #999;
  padding:8px;
  text-align:center;
  background:#fff;
  overflow:visible;
}
.codigo{
  background:#bfe6ff;
  font-weight:bold;
  padding:3px;
}
.card img{
  width:100%;
  height:150px;
  object-fit:contain;
  margin:6px 0;
  transition:transform .3s ease;
}
.card:hover img{
  transform:scale(1.5);
  z-index:10;
}
.precio{
  font-weight:bold;
  margin-bottom:6px;
}
input[type=number]{ width:60px; }
.seleccionado{ background:orange; }

/* ===== MODAL CARRITO ===== */
#modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  z-index:2000;
}
#modalContent{
  background:#fff;
  width:90%;
  max-width:700px;
  margin:80px auto;
  padding:15px;
  border-radius:8px;
}
#cerrar{ float:right; cursor:pointer; font-size:18px; }

/* ===== TABLE ===== */
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  border:1px solid #ccc;
  padding:6px;
  text-align:center;
}

.boton-activo{
  background:green !important;
  color:white !important;
}
.boton-grabando{
  background:red !important;
  color:white !important;
}
</style>
</head>

<body>

<!-- ===== TOP BAR ===== -->
<div id="topbar">
  <b>üì¶ CAT√ÅLOGO CASIO</b>
  <input type="text" id="busqueda" placeholder="Buscar c√≥digo..." oninput="filtrar()">
  <button id="btnPedidoPDF">üíæ Guardar Pedido PDF</button>
  <button id="btnCatalogoPDF">üìò Descargar Cat√°logo</button>
  <button id="btnCarrito">üõí Ver carrito</button>
  <div id="resumen">Cantidad: 0 | Total: $ 0.00</div>
</div>

<!-- ===== DATOS PEDIDO ===== -->
<h3>Datos del pedido</h3>
Raz√≥n Social:<br>
<input type="text" id="razon"><br><br>

Fecha:<br>
<input type="date" id="fecha"><br><br>

Observaciones:<br>
<textarea id="obs" rows="3"></textarea>

<hr>

<div id="estado"></div>
<div id="catalogo" class="grid"></div>

<!-- ===== MODAL CARRITO ===== -->
<div id="modal">
  <div id="modalContent">
    <span id="cerrar">‚ùå</span>
    <h3>üõí Carrito</h3>
    <div id="lista">Vac√≠o</div>
  </div>
</div>

<script>
/* ===== VARIABLES ===== */
let productos = [];
let carrito = [];

const catalogo = document.getElementById("catalogo");
const lista = document.getElementById("lista");
const resumen = document.getElementById("resumen");
const estado = document.getElementById("estado");

const btnPedidoPDF = document.getElementById("btnPedidoPDF");
const btnCatalogoPDF = document.getElementById("btnCatalogoPDF");
const btnCarrito = document.getElementById("btnCarrito");

fecha.value = new Date().toISOString().split("T")[0];

/* ===== CARGAR CSV AUTOM√ÅTICO ===== */
window.addEventListener
